function getImageUrls(e="body"){const t=document.querySelectorAll(e),n=[];return t.forEach(e=>{const t=e.getElementsByTagName("img");for(let e=0;e<t.length;e++)n.push(t[e].src)}),n}function downloadUrlsAsJson(e="body"){const t=document.querySelectorAll(e),n=[];t.forEach(e=>{const t=e.getElementsByTagName("img");for(let e=0;e<t.length;e++)n.push(t[e].src)});const o=JSON.stringify(n),c=new Blob([o],{type:"application/json"}),a=URL.createObjectURL(c),r=document.createElement("a");r.href=a,r.download="image-urls.json",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}async function downloadUrlsAsZip(e="body"){await loadScript("https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js");const t=document.querySelectorAll(e),n=[];for(let e=0;e<t.length;e++){const o=t[e].getElementsByTagName("img");for(let e=0;e<o.length;e++){const t=await fetch(o[e].src),c=await t.blob(),a=URL.createObjectURL(c),r=document.createElement("img");r.src=a,await new Promise(e=>{r.onload=e});const l=document.createElement("canvas");l.width=r.naturalWidth,l.height=r.naturalHeight;const d=l.getContext("2d");d.drawImage(r,0,0),l.toBlob(e=>{const t=URL.createObjectURL(e);n.push(t)},"image/jpeg")}}const o=new JSZip;for(let e=0;e<n.length;e++){const t=await fetch(n[e]),c=await t.blob(),a=`image-${e+1}.jpg`;o.file(a,c)}const c=await o.generateAsync({type:"blob"}),a=URL.createObjectURL(c),r=document.createElement("a");r.href=a,r.download="image-files.zip",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}function loadScript(e){return new Promise((t,n)=>{const o=document.createElement("script");o.src=e,o.addEventListener("load",()=>{t()}),o.addEventListener("error",()=>{n(new Error(`Failed to load script ${e}`))}),document.head.appendChild(o)})}function injectScript(e){var t=document.createElement("script");t.src=e,document.body.appendChild(t)}